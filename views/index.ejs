<!-- <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title || "My Blog" %>
    </title>
    <link rel="stylesheet" href="/styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>

<body>
    <header class="main-header">
        <div class="header-content">
            <a href="/" class="blog-logo">My Blog</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li> <li><a href="/contact">Contact</a></li> </ul>
            </nav>
            <div class="header-actions">
                <a href="/new" class="new-post-btn">+ New Post</a>
                </div>
        </div>
    </header>

    <div class="container">
        <main class="main-content">
            <h1 class="page-title">All Posts</h1>

            <div class="posts-grid">
                <% posts.forEach(p => { %>
                <div class="post-card">
                    <a href="/posts/<%= p.slug %>" class="post-card-image-link">
                        <img src="<%= p.image || '/img/img2.webp' %>" alt="<%= p.title %>" class="post-card-image">
                    </a>
                    <div class="post-card-content">
                        <a href="/posts/<%= p.slug %>" class="post-card-title">
                            <%= p.title %>
                        </a>
                        <p class="post-card-excerpt">
                            <%= p.content.substring(0, 150) %>...
                        </p>
                        <div class="post-card-actions">
                            <a href="/edit/<%= p.slug %>" class="edit-link">Edit</a>
                            <form action="/delete/<%= p.slug %>" method="POST" onsubmit="return confirm('Delete this post?')">
                                <button type="submit" class="delete-btn">Delete</button>
                            </form>
                        </div>
                    </div>
                </div>
                <% }) %>
            </div>
        </main>

        <aside class="sidebar">
            <div class="sidebar-section categories-section">
                <h2>Categories</h2>
                <ul>
                    <li><a href="#">Technology (5)</a></li>
                    <li><a href="#">Travel (3)</a></li>
                    <li><a href="#">Food (7)</a></li>
                    <li><a href="#">Lifestyle (4)</a></li>
                </ul>
            </div>

            <div class="sidebar-section search-section">
                <h2>Search Posts</h2>
                <div class="search-box">
                    <input type="text" placeholder="Search...">
                    <button type="submit" class="search-icon"><i class="fas fa-search"></i></button> </div>
            </div>

            <div class="sidebar-section about-section">
                <h2>About This Blog</h2>
                <p>Welcome to my blog! Here, I share my thoughts and experiences on various topics. Stay tuned for new posts!</p>
            </div>
        </aside>
    </div>

    <footer class="main-footer">
        <p>&copy; <%= new Date().getFullYear() %> My Blog. All rights reserved.</p>
    </footer>

    <script src="https://kit.fontawesome.com/your-font-awesome-kit-code.js" crossorigin="anonymous"></script>
    </body>
</html> -->
<!-- 
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <a href="/" class="blog-logo">My Blog</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="/new" class="new-post-btn">+ New Post</a>
            </div>
        </div>
    </header>

    <div class="main-content-area"> <main class="post-listing-main">
            <h1><%= title %></h1>


            
            <% if (posts.length === 0) { %>
                <p class="no-posts-message">No posts found matching your criteria.</p>
            <% } else { %>
                <ul class="post-list-homepage"> <% posts.forEach(post => { %>
                        <li class="post-list-item"> <% if (post.image) { %>
                                <div class="post-list-image-container"> <img src="<%= post.image %>" alt="<%= post.title %>" class="post-list-image">
                                </div>
                            <% } %>
                            <div class="post-list-content"> <h2><a href="/posts/<%= post.slug %>"><%= post.title %></a></h2>
                                <div class="post-list-actions">
                                    <a href="/edit/<%= post.slug %>" class="edit-link">Edit</a>
                                    <form action="/delete/<%= post.slug %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?')">
                                        <button type="submit" class="delete-btn">Delete</button>
                                    </form>
                                </div>
                            </div>
                        </li><% }) %>
                </ul><% } %>
        </main>

        <aside class="sidebar">
            <div class="sidebar-section categories-section">
                <h3>Categories</h3>
                <ul>
                    <li class="<%= selectedCategory === undefined || selectedCategory === 'all' ? 'active' : '' %>">
                        <a href="/?category=all">All Posts (<%= posts.length %>)</a>
                    </li>
                    <% categories.forEach(cat => { %>
                        <li class="<%= selectedCategory === cat.name ? 'active' : '' %>">
                            <a href="/?category=<%= cat.name %>"><%= cat.name %> (<%= cat.count %>)</a>
                        </li>
                    <% }) %>
                </ul>
            </div>

            <div class="sidebar-section search-section">
                <h3>Search Posts</h3>
                <form action="/" method="GET" class="search-form">
                    <input type="text" name="search" placeholder="Search by title..." value="<%= searchTerm || '' %>">
                    <button type="submit">Search</button>
                </form>
            </div>
        </aside>
    </div>

    <footer class="main-footer">
        <p>&copy; <%= new Date().getFullYear() %> My Blog. All rights reserved.</p>
    </footer>
</body>
</html> -->

<!-- 
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <a href="/" class="blog-logo">My Blog</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="/new" class="new-post-btn">+ New Post</a>
            </div>
        </div>
    </header>

    <div class="main-content-area"> <main class="post-listing-main">
            <h1><%= title %></h1>

            <% if (posts.length === 0) { %>
                <p class="no-posts-message">No posts found matching your criteria.</p>
            <% } else { %>
                <ul class="post-list-homepage"> <% posts.forEach(post => { %>
                        <li class="post-list-item"> <div class="post-item-left">
                                <% if (post.image) { %>
                                    <div class="post-list-image-container">
                                        <img src="<%= post.image %>" alt="<%= post.title %>" class="post-list-image">
                                    </div>
                                <% } %>
                                <a href="/posts/<%= post.slug %>" class="post-title-link">
                                    <%= post.title %>
                                </a>
                            </div>
                            <div class="post-item-right">
                                <a href="/edit/<%= post.slug %>" class="edit-link">Edit</a>
                                <form action="/delete/<%= post.slug %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?')">
                                    <button type="submit" class="delete-btn">Delete</button>
                                </form>
                            </div>
                        </li><% }) %>
                </ul><% } %>
        </main>

        <aside class="sidebar">
            <div class="sidebar-section categories-section">
                <h3>Categories</h3>
                <ul>
                    <li class="<%= selectedCategory === undefined || selectedCategory === 'all' ? 'active' : '' %>">
                        <a href="/?category=all">All Posts (<%= posts.length %>)</a>
                    </li>
                    <% categories.forEach(cat => { %>
                        <li class="<%= selectedCategory === cat.name ? 'active' : '' %>">
                            <a href="/?category=<%= cat.name %>"><%= cat.name %> (<%= cat.count %>)</a>
                        </li>
                    <% }) %>
                </ul>
            </div>

            <div class="sidebar-section search-section">
                <h3>Search Posts</h3>
                <form action="/" method="GET" class="search-form">
                    <input type="text" name="search" placeholder="Search by title..." value="<%= searchTerm || '' %>">
                    <button type="submit">Search</button>
                </form>
            </div>
        </aside>
    </div>

    <footer class="main-footer">
        <p>&copy; <%= new Date().getFullYear() %> My Blog. All rights reserved.</p>
    </footer>
</body>
</html> -->


<!-- 
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <a href="/" class="blog-logo">My Blog</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="/new" class="new-post-btn">+ New Post</a>
            </div>
        </div>
    </header>

    <div class="main-content-area"> <main class="post-listing-main">
            <h1><%= title %></h1>

            <% if (posts.length === 0) { %>
                <p class="no-posts-message">No posts found matching your criteria.</p>
            <% } else { %>
                <ul class="post-list-homepage"> <% posts.forEach(post => { %>
                        <li class="post-list-item"> <div class="post-item-left">
                                <% if (post.image) { %>
                                    <div class="post-list-image-container">
                                        <img src="<%= post.image %>" alt="<%= post.title %>" class="post-list-image">
                                    </div>
                                <% } %>
                                <a href="/posts/<%= post.slug %>" class="post-title-link">
                                    <%= post.title %>
                                </a>
                            </div>
                            <div class="post-item-right">
                                <a href="/edit/<%= post.slug %>" class="edit-link">Edit</a>
                                <form action="/delete/<%= post.slug %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?')">
                                    <button type="submit" class="delete-btn">Delete</button>
                                </form>
                            </div>
                        </li><% }) %>
                </ul><% } %>
        </main>

        <aside class="sidebar">
            <div class="sidebar-section categories-section">
                <h3>Categories</h3>
                <ul>
                    <li class="<%= selectedCategory === undefined || selectedCategory === 'all' ? 'active' : '' %>">
                        <a href="/?category=all">All Posts (<%= posts.length %>)</a>
                    </li>
                    <% categories.forEach(cat => { %>
                        <li class="<%= selectedCategory === cat.name ? 'active' : '' %>">
                            <a href="/?category=<%= cat.name %>"><%= cat.name %> (<%= cat.count %>)</a>
                        </li>
                    <% }) %>
                </ul>
            </div>

            <div class="sidebar-section search-section">
                <h3>Search Posts</h3>
                <form action="/" method="GET" class="search-form">
                    <input type="text" name="search" placeholder="Search by title..." value="<%= searchTerm || '' %>">
                    <button type="submit">Search</button>
                </form>
            </div>
        </aside>
    </div>

    <footer class="main-footer">
        <p>&copy; <%= new Date().getFullYear() %> My Blog. All rights reserved.</p>
    </footer>
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <a href="/" class="blog-logo">My Blog</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="/new" class="new-post-btn">+ New Post</a>
            </div>
        </div>
    </header>

    <div class="main-content-area">
        <main class="post-listing-main">
            <h1><%= title %></h1>

            <div class="post-grid"> <% if (posts.length === 0) { %>
                    <p class="no-posts-message">No posts found matching your criteria.</p>
                <% } else { %>
                    <% posts.forEach(post => { %>
                        <div class="post-card"> <a href="/posts/<%= post.slug %>" class="post-card-image-link">
                                <% if (post.image) { %>
                                    <div class="post-card-image-wrapper"> <img src="<%= post.image %>" alt="<%= post.title %>" class="post-card-image">
                                    </div>
                                <% } else { %>
                                    <div class="post-card-no-image">No Image</div>
                                <% } %>
                            </a>
                            <div class="post-card-content">
                                <h2 class="post-card-title"><a href="/posts/<%= post.slug %>"><%= post.title %></a></h2>
                                <% if (post.category) { %>
                                    <p class="post-card-category">Category: <a href="/?category=<%= post.category %>"><%= post.category %></a></p>
                                <% } %>
                                <p class="post-card-excerpt">
                                    <%= post.content.substring(0, 100) %>... </p>
                                <div class="post-card-actions">
                                    <a href="/edit/<%= post.slug %>" class="edit-link">Edit</a>
                                    <form action="/delete/<%= post.slug %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?')">
                                        <button type="submit" class="delete-btn">Delete</button>
                                    </form>
                                </div>
                            </div>
                        </div><% }) %>
                <% } %>
            </div></main>

        <aside class="sidebar">
            <div class="sidebar-section categories-section">
                <h3>Categories</h3>
                <ul>
                    <li class="<%= selectedCategory === undefined || selectedCategory === 'all' ? 'active' : '' %>">
                        <a href="/?category=all">All Posts (<%= posts.length %>)</a>
                    </li>
                    <% categories.forEach(cat => { %>
                        <li class="<%= selectedCategory === cat.name ? 'active' : '' %>">
                            <a href="/?category=<%= cat.name %>"><%= cat.name %> (<%= cat.count %>)</a>
                        </li>
                    <% }) %>
                </ul>
            </div>

            <div class="sidebar-section search-section">
                <h3>Search Posts</h3>
                <form action="/" method="GET" class="search-form">
                    <input type="text" name="search" placeholder="Search by title..." value="<%= searchTerm || '' %>">
                    <button type="submit">Search</button>
                </form>
            </div>
        </aside>
    </div>

    <footer class="main-footer">
        <p>&copy; <%= new Date().getFullYear() %> My Blog. All rights reserved.</p>
    </footer>
</body>
</html>